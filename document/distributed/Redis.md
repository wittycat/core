#### redis集群的几种方式详细说一下
* 单机
* 主从(replication)
  * 2.8之前的复制
     * 第一次复制：RDB全量复制+积压缓冲区复制
       
                弊端：断网后全量复制，耗费cpu，内存，磁盘io 
  * 2.8及之后之前的复制 
     *  RDB全量复制
     *  断网后的部分重新同步：积压缓冲区的复制。注意一下几个元素
         * 主从服务节点的复制偏移量：标记复制的位置；检测同步命令是否丢失
         * 服务运行Id：检测全量复制还是部分复制
                    
                    合理设置积压压缓冲区大小可以满足绝大多的部分重新同步，参考size=2*每秒写入大小*断网秒数，否则在缓冲区找不到偏移量，则进行全量复制。
* 哨兵(sentinel)
* 集群
 * 添加其他节点到自己所处的集群，处于下线状态
 * 各节点分配16384个槽，处于上线状态
 * 客户端执行命令
     * 正常执行 
     * Moved:即将要添加的Key的槽在另外一个节点
     * Ask：即将要添加的Key处于复制状态，并且不在第一次访问的节点，在**重新分片**的新节点上。
 *  重新分片
 *  Master节点下线，故障转移从节点
 *  节点间通信的命令
     *  meet
     *  ping
     *  pong
     *  publish
     *  fall
    
#### redis缓存雪崩，缓存击穿，缓存穿透是什么，怎么解决